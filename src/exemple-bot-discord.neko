// Exemple d'un bot Discord utilisant DiscordAPI.neko
// Ce bot montre comment cr√©er un bot Discord complet avec nekoScript

// Importer le package DiscordAPI
nekimporter DiscordAPI.neko;

// Configuration du bot
variable TOKEN = "VOTRE_TOKEN_DISCORD"; // Remplacez par votre vrai token Discord
variable PREFIX = "!";

// Initialiser le bot avec notre token et pr√©fixe personnalis√©
DiscordAPI.nekInitialiser(TOKEN, {
  "prefixe": PREFIX
});

// Connecter le bot √† Discord
DiscordAPI.nekConnecter();

// D√©finir le statut du bot (ce que le bot est en train de faire)
DiscordAPI.nekDefinirStatut("joue", "avec nekoScript");

// Afficher un message de bienvenue dans la console
neko = ("Bot d√©marr√© avec le pr√©fixe: " plus PREFIX);
neko = ("Tapez !aide pour voir les commandes disponibles");

// D√©finir une commande simple: !bonjour
DiscordAPI.nekCommande("bonjour", "Dit bonjour √† l'utilisateur", fonction(message) {
  // R√©pondre au message avec une salutation
  message.repondre("Bonjour, " plus message.auteur.tag plus " ! üëã");
  
  // Ajouter une r√©action d'emoji au message original
  message.reagir("üëã");
});

// D√©finir une commande d'aide: !aide
DiscordAPI.nekCommande("aide", "Affiche la liste des commandes disponibles", fonction(message) {
  // Cr√©er un embed pour l'aide
  const embed = DiscordAPI.nekEmbed(
    "üìö Aide du Bot",
    "Voici la liste des commandes disponibles:",
    "#3498db",
    [
      { "nom": PREFIX plus "bonjour", "valeur": "Dit bonjour √† l'utilisateur" },
      { "nom": PREFIX plus "aide", "valeur": "Affiche ce message d'aide" },
      { "nom": PREFIX plus "info", "valeur": "Affiche des informations sur le serveur" },
      { "nom": PREFIX plus "d√©", "valeur": "Lance un d√© √† 6 faces" },
      { "nom": PREFIX plus "sondage", "valeur": "Cr√©e un sondage simple" }
    ]
  );
  
  // Envoyer l'embed en r√©ponse
  message.repondre(embed);
});

// Commande pour afficher des informations sur le serveur: !info
DiscordAPI.nekCommande("info", "Affiche des informations sur le serveur", fonction(message) {
  // R√©cup√©rer les informations du serveur
  const serveur = DiscordAPI.nekInfoServeur();
  
  // Cr√©er un embed avec les informations
  const embed = DiscordAPI.nekEmbed(
    "‚ÑπÔ∏è Informations sur le serveur",
    "Voici les informations sur ce serveur Discord:",
    "#2ecc71",
    [
      { "nom": "Nom", "valeur": serveur.nom },
      { "nom": "ID", "valeur": serveur.id },
      { "nom": "Nombre de membres", "valeur": serveur.membres.toString() },
      { "nom": "Propri√©taire", "valeur": serveur.owner }
    ]
  );
  
  // Envoyer l'embed en r√©ponse
  message.repondre(embed);
});

// Commande pour lancer un d√©: !d√©
DiscordAPI.nekCommande("d√©", "Lance un d√© √† 6 faces", fonction(message) {
  // G√©n√©rer un nombre al√©atoire entre 1 et 6
  const resultat = Math.floor(Math.random() * 6) + 1;
  
  // Envoyer le r√©sultat
  message.repondre("üé≤ Vous avez obtenu un " plus resultat plus " !");
});

// Commande pour cr√©er un sondage: !sondage
DiscordAPI.nekCommande("sondage", "Cr√©e un sondage simple", fonction(message) {
  // Cr√©er un embed pour le sondage
  const embed = DiscordAPI.nekEmbed(
    "üìä Sondage",
    "R√©agissez avec üëç pour Oui ou üëé pour Non",
    "#e74c3c"
  );
  
  // Envoyer l'embed en r√©ponse
  message.repondre(embed);
  
  // Ajouter les r√©actions de vote
  // Dans un vrai bot, on ajouterait ces r√©actions au message envoy√©
  neko = ("R√©actions üëç et üëé ajout√©es au sondage");
});

// G√©rer les r√©actions aux messages
DiscordAPI.nekSurReaction(fonction(reaction) {
  // V√©rifier l'emoji de la r√©action
  si (reaction.emoji.nom est √©gal √† "üëç") {
    neko = ("Quelqu'un a vot√© Oui");
  } sinon si (reaction.emoji.nom est √©gal √† "üëé") {
    neko = ("Quelqu'un a vot√© Non");
  }
});

// G√©rer les messages priv√©s
DiscordAPI.nekSurMessagePrive(fonction(message) {
  // R√©pondre aux messages priv√©s
  neko = ("Message priv√© re√ßu: " plus message.contenu);
  
  // R√©pondre automatiquement
  message.repondre("Merci pour votre message ! Je suis un bot NekoScript.");
});

// Simuler l'ex√©cution de quelques commandes pour tester le bot
neko = ("\n--- Test des commandes ---");
DiscordAPI.nekTesterCommande("!bonjour");
DiscordAPI.nekTesterCommande("!aide");
DiscordAPI.nekTesterCommande("!info");
DiscordAPI.nekTesterCommande("!d√©");
DiscordAPI.nekTesterCommande("!sondage");

// Simuler une r√©action √† un message
neko = ("\n--- Test des r√©actions ---");
DiscordAPI.nekTesterReaction("üëç");

// Afficher un message de fin
neko = ("\nLe bot est pr√™t et en fonctionnement ! Il √©coute les commandes commen√ßant par '" plus PREFIX plus "'");